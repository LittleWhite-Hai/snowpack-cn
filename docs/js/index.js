function e(e){const{top:t}=e.getBoundingClientRect();return t<=window.innerHeight/2}function t(){if(window.innerWidth<1240)return;if(!n)return;const t=[...document.querySelectorAll(".content-body h1, .content-body h2, .content-body h3, .content-body h4")].filter((e=>!!e.id)),i=0===window.scrollY,o=Math.ceil(window.innerHeight+window.scrollY)>=Math.ceil(document.body.getBoundingClientRect().height);let c;if(c=i?t[0]:o?t[t.length-1]:t.reverse().find(e),!c)return;const r=`#${c.id}`,d=n.querySelector(`a[href="${r}"]`);d&&!d.classList.contains("active")&&(n.querySelectorAll("a.active").forEach((e=>{e.getAttribute("href")!==r&&e.classList.remove("active")})),d.classList.add("active"))}const n=document.querySelector(".toc");var i,o;window.addEventListener("scroll",(i=t,function(){var e=this,t=arguments;o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame((function(){i.apply(e,t)}))})),window.addEventListener("DOMContentLoaded",(e=>{n&&(document.querySelectorAll(".content h3, .content h4").forEach((e=>{const t=document.createElement("a");t.setAttribute("href","#"+e.id),t.classList.add("header-link"),t.innerText="#",e.appendChild(t)})),t())}));
